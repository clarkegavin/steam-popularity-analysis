#pipelines:
#  - name: roblox_pipeline
#    enabled: true
#    class: DataExtractorPipeline       # which pipeline class to use
#    type: sample               # full or sample
#    sample_size: 100
#    output_csv: "roblox_data.csv"


pipelines:
  - name: roblox_extraction
    type: pipelines.data_extractor_pipeline.DataExtractorPipeline
    extractor_type: roblox
    params:
      output_csv: "output/roblox_data.csv"
#      extractor_params:
#        sample_size: 1000


  # anything that changes the shape of teh data will need to be in this cleanup block
  - name: data_cleanup
    type: pipelines.data_cleanup_pipeline.DataCleanupPipeline
    params:
      # cleanup_steps is a list of preprocessors (built via PreprocessorFactory)
      cleanup_steps:
        - name: remove_duplicates
          params:
            field: "gameID"
            keep: "first"
            case_sensitive: false
            dropna: true
        - name: filter_rows
          params:
            field: "Genre"
            values: [ "All" ]
            operator: "equals"
            case_sensitive: false
        - name: filter_rows
          params:
            field: "Description"
            values: [null, ""]
            operator: "in"
            case_sensitive: false
        - name: merge_features
          params:
            columns: ["Description", "Title"]
            merge_to: "Description"
#        - name: remove_urls
#          params:
#            field: "Description"
#            pattern: 'https?://\S+|www\.\S+'
#        - name: remove_repeated_characters
#          params:
#            field: "Description"
#            pattern: "(.)\\1{2,}"
#        - name: remove_punctuation_noise
#          params:
#            field: "Description"
#            pattern: '([!?.,])\1+'
#        - name: remove_whitespace
#          params:
#            field: "Description"
#        - name: stopword_remover
#          params:
#            language: "english"
#            lower: true
#            field: "Description"



  - name: filter_features
    type: pipelines.filter_pipeline.FilterPipeline
    filter_features:
      - name: drop_columns
        params:
          columns_to_drop:
            [ 'Id', 'Date', 'Active_Users', 'Favorites', 'Total_Visits',
              'Date_Created', 'Last_Updated', 'Server_Size', 'Title',
              'Creator', 'gameID', 'Category', 'URL' ]

#  - name: eda
#    type: pipelines.eda_pipeline.EDAPipeline
#    params:
#      save_path: "output/eda"
#      steps:
#        - name: class_balance
#        - name: wordcloud_global
#        - name: wordcloud_by_class
#        - name: describe_info
#        - name: duplicate_check
#    dataset:
#      target: "Genre"
#      text_field: "Description"

#------------------------------------------------------------
# Clustering
#------------------------------------------------------------
#  - name: clustering
#    type: pipelines.clustering_pipeline.ClusteringPipeline
#    params:
#      text_field: "Description"
#      genre_field: "Genre"
#      filter_genre: "All"
#      vectorizer:
#        vectorizer_name: "tfidf"
#        vectorizer_field: "Description"
#        vectorizer_params:
#          max_features: 5000
#          ngram_range: [ 1, 2 ]
#          stop_words: "english"
#      clusterer:
#         name: "hdbscan"
#         params:
#            min_cluster_size: 30
#            min_samples: 10
#            #metric: "cosine" # memory issues with cosine on large datasets
#            metric: "euclidean"
#      reducer:
#         name: "umap"
#         params:
#            n_components: 50
#      visualisations:
#         name: cluster_plot
#         params:
#            output_dir: "output/clustering"
#            figsize: [10, 8]
#            xlabel: "UMAP Dimension 1"
#            ylabel: "UMAP Dimension 2"
#            zlabel: "UMAP Dimension 3"
#            title: "HDBSCAN Clustering of Roblox Game Descriptions"
#            xticks_rotation: 45
#            label_min_cluster_size: 250
#            dimensions: 3




#  - name: preprocess_text
#    type: pipelines.preprocessing_pipeline.PreprocessingPipeline
#    params:
#      text_field: "Description"
#      #      preprocessors: []
#      preprocessors:
#        - name: mask_genre_words
#          params:
#            description_field: "Description"
#            genre_words: [ "RPG", "Comedy", "Adventure", "Horror", "Sci-Fi", "Fighting", "Military", "Naval", "Town", "City", "Town and City", "Building", "Build", "Builds", "Builder", "Builders", "Fight", "FPS" ]
#            mask_token: "<MASKED>"
#            case_sensitive: false


  - name: split_data
    type: pipelines.data_splitter_pipeline.DataSplitterPipeline
    params:
      target_column: "Genre"
      test_size: 0.2
      random_state: 42


  - name: encode_target
    type: pipelines.target_feature_pipeline.TargetFeaturePipeline
    params:
      target_column: "Genre"
#
##
#  - name: naive_bayes
#    type: pipelines.experiment_pipeline.ExperimentPipeline
#    params:
#      experiment_type: "classification"
#      model_name: "naive_bayes"
#      evaluator_name: "classification"
#      metrics: [ "accuracy", "f1_score", "precision", "recall" ]
#      mlflow_experiment: "Naive Bayes Experiments"
#      experiments:
#
##         ------------------------------------------------------------
##         1a. Baseline: no preprocessing
##         ------------------------------------------------------------
#        - run_name: "1a. NB + TF-IDF baseline"
#          text_field:   "Description"
#          params:
#            description: "Baseline: Naive Bayes + TF-IDF with word n-grams, no preprocessing"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1b. Add lowercase
#        # ------------------------------------------------------------
#        - run_name: "1b. NB + lowercase"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#          params:
#            description: "Naive Bayes + TF-IDF with lowercase preprocessing added"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1c. Add remove_repeated_characters
#        # ------------------------------------------------------------
#        - run_name: "1c. NB + repeated char removal"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#          params:
#            description: "Naive Bayes + TF-IDF with lowercase and repeated character removal"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1d. Add remove_urls
#        # ------------------------------------------------------------
#        - run_name: "1d. NB + remove URLs"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#          params:
#            description: "Naive Bayes + TF-IDF with lowercase, repeated character removal, and URL removal"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1e. Add remove_whitespace
#        # ------------------------------------------------------------
#        - run_name: "1e. NB + remove whitespace"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#          params:
#            description: "Naive Bayes + TF-IDF with lowercase, repeated character removal, URL removal, and whitespace cleanup"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1f. Add remove_punctuation_noise
#        # ------------------------------------------------------------
#        - run_name: "1f. NB + remove punctuation noise"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#          params:
#            description: "Naive Bayes + TF-IDF with lowercase, repeated character removal, URL removal, whitespace cleanup, and punctuation noise removal"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1g. Add stopword_remover
#        # ------------------------------------------------------------
#        - run_name: "1g. NB + stopword remover"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "Naive Bayes + TF-IDF with all above preprocessing and stopword removal"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1h. Add stemmer (porter and snowball variants)
#        # ------------------------------------------------------------
#        - run_name: "1h. NB + stemmer (porter)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#            - name: stemmer
#              params:
#                language: "english"
#                algorithm: "porter"
#          params:
#            description: "Naive Bayes + TF-IDF with all preprocessing plus Porter stemmer"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        - run_name: "1i. NB + stemmer (snowball)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#            - name: stemmer
#              params:
#                language: "english"
#                algorithm: "snowball"
#          params:
#            description: "Naive Bayes + TF-IDF with all preprocessing plus Snowball stemmer"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"

#        - run_name: "1j. NB +  emoji remover)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                field: "Description"
#                language: "english"
#                lower: true
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
#          params:
#            description: "1j. Naive Bayes + TF-IDF with all preprocessing plus emoji remover"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#
#        - run_name: "1k. NB +  Lemmatization)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                field: "Description"
#                language: "english"
#                lower: true
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
#            - name: lemmatizer
#              params:
#                model: "en_core_web_sm"
#          params:
#            description: "1j. NNaive Bayes + TF-IDF with all preprocessing plus Lemmatization"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"


#
#        - run_name: "1l. NB +  remove repeated characters only"
#          text_field: "Description"
#          preprocessing:
##            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
##            - name: remove_urls
##              params:
##                field: "Description"
##                pattern: 'https?://\S+|www\.\S+'
##            - name: remove_whitespace
##              params:
##                field: "Description"
##                pattern: '\\s+'
##            - name: remove_punctuation_noise
##              params:
##                field: "Description"
##                pattern: '([!?.,])\\1+'
##            - name: stopword_remover
##              params:
##                field: "Description"
##                language: "english"
##                lower: true
##            - name: emoji_remover
##              params:
##                use_emoji_lib: true
#          params:
#            description: "1l. NB +  remove repeated characters only"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"


#        - run_name: "1m. NB +  remove urls only"
#          text_field: "Description"
#          preprocessing:
##            - name: lowercase
##            - name: remove_repeated_characters
##              params:
##                field: "Description"
##                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
##            - name: remove_whitespace
##              params:
##                field: "Description"
##                pattern: '\\s+'
##            - name: remove_punctuation_noise
##              params:
##                field: "Description"
##                pattern: '([!?.,])\\1+'
##            - name: stopword_remover
##              params:
##                field: "Description"
##                language: "english"
##                lower: true
##            - name: emoji_remover
##              params:
##                use_emoji_lib: true
#          params:
#            description: "1m. NB +  remove urls only"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"

#
#        - run_name: "1n. NB + remove whitespace only"
#          text_field: "Description"
#          preprocessing:
##            - name: lowercase
##            - name: remove_repeated_characters
##              params:
##                field: "Description"
##                pattern: "(.)\\1{2,}"
##            - name: remove_urls
##              params:
##                field: "Description"
##                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
##            - name: remove_punctuation_noise
##              params:
##                field: "Description"
##                pattern: '([!?.,])\\1+'
##            - name: stopword_remover
##              params:
##                field: "Description"
##                language: "english"
##                lower: true
##            - name: emoji_remover
##              params:
##                use_emoji_lib: true
#          params:
#            description: "1n. NB + remove whitespace only"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"

#
#        - run_name: "1o. NB +  remove punct noise only"
#          text_field: "Description"
#          preprocessing:
##            - name: lowercase
##            - name: remove_repeated_characters
##              params:
##                field: "Description"
##                pattern: "(.)\\1{2,}"
##            - name: remove_urls
##              params:
##                field: "Description"
##                pattern: 'https?://\S+|www\.\S+'
##            - name: remove_whitespace
##              params:
##                field: "Description"
##                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
##            - name: stopword_remover
##              params:
##                field: "Description"
##                language: "english"
##                lower: true
##            - name: emoji_remover
##              params:
##                use_emoji_lib: true
#          params:
#            description: "1o. NB +  remove punct noise only"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#
#        - run_name: "1p. NB +  stopword remover only"
#          text_field: "Description"
#          preprocessing:
##            - name: lowercase
##            - name: remove_repeated_characters
##              params:
##                field: "Description"
##                pattern: "(.)\\1{2,}"
##            - name: remove_urls
##              params:
##                field: "Description"
##                pattern: 'https?://\S+|www\.\S+'
##            - name: remove_whitespace
##              params:
##                field: "Description"
##                pattern: '\\s+'
##            - name: remove_punctuation_noise
##              params:
##                field: "Description"
##                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                field: "Description"
#                language: "english"
#                lower: true
##            - name: emoji_remover
##              params:
##                use_emoji_lib: true
#          params:
#            description: "1p. NB +  stopword remover only"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"

#
#        - run_name: "1q. NB +  emoji remover ony"
#          text_field: "Description"
#          preprocessing:
##            - name: lowercase
##            - name: remove_repeated_characters
##              params:
##                field: "Description"
##                pattern: "(.)\\1{2,}"
##            - name: remove_urls
##              params:
##                field: "Description"
##                pattern: 'https?://\S+|www\.\S+'
##            - name: remove_whitespace
##              params:
##                field: "Description"
##                pattern: '\\s+'
##            - name: remove_punctuation_noise
##              params:
##                field: "Description"
##                pattern: '([!?.,])\\1+'
##            - name: stopword_remover
##              params:
##                field: "Description"
##                language: "english"
##                lower: true
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
#          params:
#            description: "1q. NB +  emoji remover ony"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"

#    #------------------------------------------------------------
#    # Experiment Pipelines
#    #------------------------------------------------------------
#  - name: naive_bayes
#    type: pipelines.experiment_pipeline.ExperimentPipeline
#    params:
#      experiment_type: "classification"
#      model_name: "naive_bayes"
#      evaluator_name: "classification"
#      metrics: ["accuracy", "f1_score", "precision", "recall"]
#      mlflow_experiment: "Naive Bayes Experiments"
#      experiments:
#        # ------------------------------------------------------------
#        # 1a. Naive Bayes + TF-IDF with word n-grams baseline
#        # ------------------------------------------------------------
#        - run_name: "1a. Naive Bayes + TF-IDF with word n-grams baseline"
#          params:
#            description: "1a. Naive Bayes + TF-IDF with word n-grams baseline"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [1, 2]
#                stop_words: "english"
##            sampler:
##              name: "composite"
##              params:
##                steps:
###                  - name: "under_sampler"
###                    params:
###                      random_state: 42
###                      sampling_strategy:
###                        All: 10000
##                  - name: "smote"
##                    params:
##                      random_state: 42
##                      sampling_strategy: "auto"
##                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1aa. Naive Bayes + TF-IDF with word n-grams baseline
#        # ------------------------------------------------------------
#        - run_name: "1aa. Naive Bayes + TF-IDF with word n-grams baseline"
#          params:
#            alpha: 0.0001 # laplace smoothing
#            description: "1aa. Naive Bayes + TF-IDF with word n-grams baseline"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [1, 2]
#                stop_words: "english"
#            sampler:
#              name: "composite"
#              params:
#                steps:
##                  - name: "under_sampler"
##                    params:
##                      random_state: 42
##                      sampling_strategy:
##                        All: 10000
#                  - name: "smote"
#                    params:
#                      random_state: 42
#                      sampling_strategy: "auto"
#                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1b. Naive Bayes + TF-IDF with character n-grams and data cleansing
#        # ------------------------------------------------------------
#        - run_name: "1b. Naive Bayes TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "1b. Naive Bayes + TF-IDF with character n-grams and data cleansing"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [4, 6]
#                analyzer: 'char_wb'
#                lowercase: true
#                #stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1c Naive Bayes + TF-IDF with data cleansing character n-grams but no emoji removal
#        # ------------------------------------------------------------
#        - run_name: "1c. Naive Bayes TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
##            - name: emoji_remover
##              params:
##                use_emoji_lib: true
#          params:
#            description: "1c Naive Bayes + TF-IDF with data cleansing character n-grams but no emoji removal"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                lowercase: true
#                #stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 1d Naive Bayes + TF-IDF with data cleansing character n-grams but no emoji removal and increase max features to 10000
#        # ------------------------------------------------------------
#        - run_name: "1d. Naive Bayes TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#        #            - name: emoji_remover
#        #              params:
#        #                use_emoji_lib: true
#          params:
#            description: "1d Naive Bayes + TF-IDF with data cleansing character n-grams but no emoji removal and increase max features to 10000"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                lowercase: true
#                #stop_words: "english"
#          visualisations:
#            - name: confusion_matrix
#              kwargs:
#                figsize: [ 8, 6 ]
#                cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 2a. Naive Bayes + TF-IDF with Porter Stemming with character n-grams and data cleansing, emoji removal excluded, max features 10000 and no stop_words
#        # ------------------------------------------------------------
#        - run_name: "2a. Naive Bayes TF-IDF (with Porter Stemming)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#  #            - name: emoji_remover
#  #              params:
#  #                use_emoji_lib: true
#            - name: stemmer
#              params:
#                language: "english"
#                algorithm: "porter"
#          params:
#            description: "2a. Naive Bayes + TF-IDF with Porter Stemming with character n-grams and data cleansing, emoji removal exluded, max features 10000 and no stop_words"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                #stop_words: "english"
#                lowercase: true
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 2b. Naive Bayes + TF-IDF with Porter Stemming with character n-grams and data cleansing, emoji removal excluded, max features 10000 and  stop_words before stemming
#        # ------------------------------------------------------------
#        - run_name: "2b. Naive Bayes TF-IDF (with Porter Stemming)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#  #            - name: emoji_remover
#  #              params:
#  #                use_emoji_lib: true
#            - name: stemmer
#              params:
#                language: "english"
#                algorithm: "porter"
#          params:
#            description: "2b. Naive Bayes + TF-IDF with Porter Stemming with character n-grams and data cleansing, emoji removal excluded, max features 10000 and  stop_words before stemming"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                #stop_words: "english"
#                lowercase: true
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 2c. Naive Bayes + TF-IDF with Porter Stemming with character n-grams and data cleansing, emoji removal excluded, max features 10000 and  stop_words after stemming
#        # ------------------------------------------------------------
#        - run_name: "2c. Naive Bayes TF-IDF (with Porter Stemming)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
##            - name: stopword_remover
##              params:
##                language: "english"
##                lower: true
##                field: "Description"
##            - name: emoji_remover
##              params:
##                use_emoji_lib: true
#            - name: stemmer
#              params:
#                language: "english"
#                algorithm: "porter"
#          params:
#            description: "2c. Naive Bayes + TF-IDF with Porter Stemming with character n-grams and data cleansing, emoji removal excluded, max features 10000 and  stop_words after stemming"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#                lowercase: true
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 3a. Naive Bayes + TF-IDF with Snowball Stemming with character n-grams and data cleansing, emoji removal excluded,, max features 10000 and  no stop_words
#        # -----------------------------------------------------------
#        - run_name: "3a. Naive Bayes TF-IDF (with Snowball Stemming)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
##          - name: stopword_remover
##            params:
##              language: "english"
##              lower: true
##          - name: emoji_remover
##            params:
##              use_emoji_lib: true
#            - name: stemmer
#              params:
#                language: "english"
#                algorithm: "snowball"
#          params:
#            description: "3a. Naive Bayes + TF-IDF with Snowball Stemming with character n-grams and data cleansing, emoji removal excluded, max features 10000 and  no stop_words"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                #stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 3b. Naive Bayes + TF-IDF with Snowball Stemming with character n-grams and data cleansing, emoji removal excluded,, max features 10000 and  stop_words before stemming
#        # -----------------------------------------------------------
#        - run_name: "3b. Naive Bayes TF-IDF (with Snowball Stemming)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#            #          - name: emoji_remover
#            #            params:
#            #              use_emoji_lib: true
#            - name: stemmer
#              params:
#                language: "english"
#                algorithm: "snowball"
#          params:
#            description: "3b. Naive Bayes + TF-IDF with Snowball Stemming with character n-grams and data cleansing, emoji removal excluded,, max features 10000 and  stop_words before stemming"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                #stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 3c. Naive Bayes + TF-IDF with Snowball Stemming with character n-grams and data cleansing, emoji removal excluded, max features 10000 and  stop_words after stemming
#        # -----------------------------------------------------------
#        - run_name: "3c. Naive Bayes TF-IDF (with Snowball Stemming)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
##            - name: stopword_remover
##              params:
##                language: "english"
##                lower: true
#            #          - name: emoji_remover
#            #            params:
#            #              use_emoji_lib: true
#            - name: stemmer
#              params:
#                language: "english"
#                algorithm: "snowball"
#          params:
#            description: "3c. Naive Bayes + TF-IDF with Snowball Stemming with character n-grams and data cleansing, emoji removal excluded, max features 10000 and  stop_words after stemming"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 4a. Naive Bayes + TF-IDF with Lemmatization with character n-grams and data cleansing, emoji removal excluded, max features 10000 and no stop_words
#        # ------------------------------------------------------------
#        - run_name: "4a. Naive Bayes TF-IDF (with Lemmatization)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#              #            - name: stopword_remover
#              #              params:
#              #                language: "english"
#              #                lower: true
#              #          - name: emoji_remover
#              #            params:
#              #              use_emoji_lib: true
#            - name: lemmatizer
#              params:
#                model: "en_core_web_sm"
#          params:
#            description: "4a. Naive Bayes + TF-IDF with Lemmatization with character n-grams and data cleansing, emoji removal excluded, max features 10000 and no stop_words"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                #stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 4b. Naive Bayes + TF-IDF with Lemmatization with character n-grams and data cleansing, emoji removal excluded, max features 10000 and stop_words before lemmatization
#        # ------------------------------------------------------------
#        - run_name: "4b. Naive Bayes TF-IDF (with Lemmatization)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#              #          - name: emoji_remover
#              #            params:
#              #              use_emoji_lib: true
#            - name: lemmatizer
#              params:
#                model: "en_core_web_sm"
#          params:
#            description: "4b. Naive Bayes + TF-IDF with Lemmatization with character n-grams and data cleansing, emoji removal excluded, max features 10000 and stop_words before lemmatization"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                #stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 4c. Naive Bayes + TF-IDF with Lemmatization with character n-grams and data cleansing, emoji removal excluded, max features 10000 and stop_words after lemmatization
#        # ------------------------------------------------------------
#        - run_name: "4c. Naive Bayes TF-IDF (with Lemmatization)"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#              #            - name: stopword_remover
#              #              params:
#              #                language: "english"
#              #                lower: true
#              #          - name: emoji_remover
#              #            params:
#              #              use_emoji_lib: true
#            - name: lemmatizer
#              params:
#                model: "en_core_web_sm"
#          params:
#            description: "4c. Naive Bayes + TF-IDF with Lemmatization with character n-grams and data cleansing, emoji removal excluded, max features 10000 and stop_words after lemmatization"
#            save_path: "output/naive_bayes_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 43
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
  #------------------------------------------------------------
  # Experiment Pipeline for KNN
  #------------------------------------------------------------

#  - name: knn
#    type: pipelines.experiment_pipeline.ExperimentPipeline
#    params:
#      experiment_type: "classification"
#      model_name: "knn"
#      evaluator_name: "classification"
#      metrics: [ "accuracy", "f1_score", "precision", "recall" ]
#      mlflow_experiment: "KNN Experiments"
#      experiments:
#        # ------------------------------------------------------------
        # 1. KNN + TF-IDF
        # ------------------------------------------------------------
#        - run_name: "1a. KNN TF-IDF baseline word grams"
#          params:
#            n_neighbors: 7
#            weights: "uniform"
#            description: "KNN experiments with TF-IDF vectorization technique on Roblox game descriptions."
#            save_path: "output/knn_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#
#        - run_name: "1b. KNN TF-IDF baseline character ngrams"
#          params:
#            n_neighbors: 7
#            weights: "uniform"
#            description: "KNN experiments with TF-IDF vectorization technique on Roblox game descriptions."
#            save_path: "output/knn_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 4, 6 ]
#                analyzer: 'char_wb'
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"

#        - run_name: "1c. KNN TF-IDF baseline word grams"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                field: "Description"
#                language: "english"
#                lower: true
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
#            - name: lemmatizer
#              params:
#                model: "en_core_web_sm"
#          params:
#            n_neighbors: 7
#            weights: "uniform"
#            description: "KNN experiments with TF-IDF vectorization technique on Roblox game descriptions."
#            save_path: "output/knn_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#        # ------------------------------------------------------------
#        # 1. KNN + TF-IDF
#        # ------------------------------------------------------------
#        - run_name: "1b. KNN TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            n_neighbors: 5
#            weights: "uniform"
#            description: "1b. KNN TF-IDF with data cleansing and smote on Roblox game descriptions."
#            save_path: "output/knn_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
##            sampler:
##              name: "composite"
##              params:
##                steps:
##                  - name: "smote"
##                    params:
##                      random_state: 42
##                      sampling_strategy: "auto"
##                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#          # ------------------------------------------------------------
#          # 1. KNN + Word2Vec
#          # ------------------------------------------------------------
#        - run_name: "1c. KNN Word2Vec"
#          params:
#            n_neighbors: 5
#            weights: "uniform"
#            description: "KNN experiments with Word2Vec vectorization technique on Roblox game descriptions."
#            save_path: "output/knn_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            vectorizer:
#              vectorizer_name: "word2vec"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                vector_size: 100
#                window: 3
#                min_count: 2
#                sg: 1
#                workers: 4
#                epochs: 25
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#          # ------------------------------------------------------------
#          # 1. KNN + Word2Vec
#          # ------------------------------------------------------------
#        - run_name: "1d. KNN Word2Vec"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            n_neighbors: 5
#            weights: "uniform"
#            description: "1d. KNN Word2Vec with data cleansing and smote."
#            save_path: "output/knn_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            vectorizer:
#              vectorizer_name: "word2vec"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                vector_size: 100
#                window: 3
#                min_count: 2
#                sg: 1
#                workers: 4
#                epochs: 25
#            sampler:
#              name: "composite"
#              params:
#                steps:
#                  - name: "smote"
#                    params:
#                      random_state: 42
#                      sampling_strategy: "auto"
#                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 3. KNN + BERT
#        # ------------------------------------------------------------
#        - run_name: "1c. KNN BERT"
#          params:
#            n_neighbors: 5
#            weights: "uniform"
#            description: "KNN experiments with BERT embeddings on Roblox game descriptions."
#            save_path: "output/knn_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
##            sampler:
##              name: "composite"
##              params:
##                steps:
###                  - name: "under_sampler"
###                    params:
###                      random_state: 42
###                      sampling_strategy:
###                        All: 10000
##                  - name: "smote"
##                    params:
##                      random_state: 42
##                      sampling_strategy: "auto"
##                      k_neighbors: 5
#
#        # ------------------------------------------------------------
#        # 3. KNN + BERT
#        # ------------------------------------------------------------
#        - run_name: "1e. KNN BERT"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            n_neighbors: 5
#            weights: "uniform"
#            description: "1e. KNN BERT with data cleansing and smote on Roblox game descriptions."
#            save_path: "output/knn_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#            sampler:
#              name: "composite"
#              params:
#                steps:
#                  - name: "smote"
#                    params:
#                      random_state: 42
#                      sampling_strategy: "auto"
#                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#
  - name: xgboost
    type: pipelines.experiment_pipeline.ExperimentPipeline
    params:
      experiment_type: "classification"
      model_name: "xgboost"
      evaluator_name: "classification"
      metrics: [ "accuracy", "f1_score", "precision", "recall" ]
      mlflow_experiment: "XGBoost Experiments"
      experiments:
        # ------------------------------------------------------------
        # 1. XGBoost + TF-IDF
        # ------------------------------------------------------------
#        - run_name: "1a. XGBoost TF-IDF"
#          params:
#            description: "XGBoost experiments with TF-IDF vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              eta: 0.1
#              max_depth: 6
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [1, 2]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#        - run_name: "1b. XGBoost TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
#          params:
#            description: "XGBoost experiments with TF-IDF vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              eta: 0.1
#              max_depth: 6
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [1, 2]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#        - run_name: "1c. XGBoost TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
#          params:
#            description: "XGBoost experiments with TF-IDF vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              # device: 'cuda'
#              learning_rate: 0.1
#              max_depth: 6
#              min_child_weight : 2
#              gamma: 0.3
#              scale_pos_weight: 3 # for imbalanced classes
#              max_delta_step: 1 # stabilise rare classes
#              reg_lambda: 2 # regulatisation
#              n_estimators: 1000
##              early_stopping_rounds: 50
##              eval_metric: "mlogloss"
#              colsample_bytree: 0.7
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [1, 2]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#        - run_name: "1c. XGBoost TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
#          params:
#            description: "XGBoost experiments with TF-IDF vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            calculate_sample_weights: true
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              # device: 'cuda'
#              learning_rate: 0.1
#              max_depth: 6
#              min_child_weight : 2
#              gamma: 0.3
#              scale_pos_weight: 3 # for imbalanced classes
#              max_delta_step: 1 # stabilise rare classes
#              reg_lambda: 2 # regulatisation
#              n_estimators: 1000
##              early_stopping_rounds: 50
##              eval_metric: "mlogloss"
#              colsample_bytree: 0.7
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [1, 2]
#                stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"

#        - run_name: "1d. XGBoost TF-IDF stopword only"
#          text_field: "Description"
#          preprocessing:
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "XGBoost experiments with TF-IDF vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            calculate_sample_weights: true
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              # device: 'cuda'
#              learning_rate: 0.1
#              max_depth: 8
#              min_child_weight : 2
#              gamma: 0.3
#              scale_pos_weight: 5 # for imbalanced classes
#              max_delta_step: 2 # stabilise rare classes
#              reg_lambda: 2 # regulatisation
#              n_estimators: 1000
##              early_stopping_rounds: 50
##              eval_metric: "mlogloss"
#              colsample_bytree: 0.7
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [1, 2]
#                #stop_words: "english"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#
#        - run_name: "1e. XGBoost Word2Vec stopword only"
#          text_field: "Description"
#          preprocessing:
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "XGBoost experiments with Word2Vec vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            calculate_sample_weights: true
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              # device: 'cuda'
#              learning_rate: 0.1
#              max_depth: 8
#              min_child_weight : 2
#              gamma: 0.3
#              scale_pos_weight: 5 # for imbalanced classes
#              max_delta_step: 2 # stabilise rare classes
#              reg_lambda: 2 # regulatisation
#              n_estimators: 1000
##              early_stopping_rounds: 50
##              eval_metric: "mlogloss"
#              colsample_bytree: 0.7
#            vectorizer:
#              vectorizer_name: "word2vec"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                vector_size: 300
#                window: 5
#                min_count: 2
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#        - run_name: "1f. XGBoost BERT stopword only"
#          text_field: "Description"
#          preprocessing:
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "XGBoost experiments with BERT vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            calculate_sample_weights: true
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              # device: 'cuda'
#              learning_rate: 0.1
#              max_depth: 8
#              min_child_weight : 2
#              gamma: 0.3
#              scale_pos_weight: 5 # for imbalanced classes
#              max_delta_step: 2 # stabilise rare classes
#              reg_lambda: 2 # regulatisation
#              n_estimators: 1000
##              early_stopping_rounds: 50
##              eval_metric: "mlogloss"
#              colsample_bytree: 0.7
#            reducer:
#               name: "umap"
#               params:
#                  n_components: 100
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#
#        - run_name: "1g. XGBoost BERT stopword only - UMAP 250"
#          text_field: "Description"
#          preprocessing:
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "XGBoost experiments with BERT vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            calculate_sample_weights: true
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              # device: 'cuda'
#              learning_rate: 0.1
#              max_depth: 8
#              min_child_weight : 2
#              gamma: 0.3
#              scale_pos_weight: 5 # for imbalanced classes
#              max_delta_step: 2 # stabilise rare classes
#              reg_lambda: 2 # regulatisation
#              n_estimators: 1000
##              early_stopping_rounds: 50
##              eval_metric: "mlogloss"
#              colsample_bytree: 0.7
#            reducer:
#               name: "umap"
#               params:
#                  n_components: 250
#                  random_state: 42
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#
#        - run_name: "1h. XGBoost BERT stopword only - UMAP 50"
#          text_field: "Description"
#          preprocessing:
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "XGBoost experiments with BERT vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            calculate_sample_weights: true
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              # device: 'cuda'
#              learning_rate: 0.1
#              max_depth: 8
#              min_child_weight : 2
#              gamma: 0.3
#              scale_pos_weight: 5 # for imbalanced classes
#              max_delta_step: 2 # stabilise rare classes
#              reg_lambda: 2 # regulatisation
#              n_estimators: 1000
##              early_stopping_rounds: 50
##              eval_metric: "mlogloss"
#              colsample_bytree: 0.7
#            reducer:
#               name: "umap"
#               params:
#                  n_components: 100
#                  random_state: 42
#                  n_neighbors: 15
#                  min_dist: 0.1
#                  metric: "cosine"
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#
#        - run_name: "1i. XGBoost BERT stopword only"
#          text_field: "Description"
#          preprocessing:
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "XGBoost experiments with BERT vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            calculate_sample_weights: true
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # default XGBoost hyperparameters
#              # device: 'cuda'
#              learning_rate: 0.1
#              max_depth: 8
#              min_child_weight : 2
#              gamma: 0.3
#              scale_pos_weight: 5 # for imbalanced classes
#              max_delta_step: 2 # stabilise rare classes
#              reg_lambda: 2 # regulatisation
#              n_estimators: 1000
##              early_stopping_rounds: 50
##              eval_metric: "mlogloss"
#              colsample_bytree: 0.7
#            reducer:
#               name: "pca"
#               params:
#                  n_components: 250
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"



        - run_name: "1j. XGBoost BERT stopword only - PCA 500"
          text_field: "Description"
          preprocessing:
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
          params:
            description: "XGBoost experiments with BERT vectorization technique on Roblox game descriptions."
            save_path: "output/xgboost_results"
            calculate_sample_weights: true
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:    # default XGBoost hyperparameters
              # device: 'cuda'
              learning_rate: 0.1
              max_depth: 8
              min_child_weight : 2
              gamma: 0.3
              scale_pos_weight: 5 # for imbalanced classes
              max_delta_step: 2 # stabilise rare classes
              reg_lambda: 2 # regulatisation
              n_estimators: 1000
#              early_stopping_rounds: 50
#              eval_metric: "mlogloss"
              colsample_bytree: 0.7
            reducer:
               name: "pca"
               params:
                  n_components: 500
            vectorizer:
              vectorizer_name: "bert"
              vectorizer_field: "Description"
              vectorizer_params:
                model_name: "sentence-transformers/all-mpnet-base-v2"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [8, 6]
                  cmap: "Blues"


        - run_name: "1k. XGBoost BERT stopword only - PCA 750"
          text_field: "Description"
          preprocessing:
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
          params:
            description: "XGBoost experiments with BERT vectorization technique on Roblox game descriptions."
            save_path: "output/xgboost_results"
            calculate_sample_weights: true
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:    # default XGBoost hyperparameters
              # device: 'cuda'
              learning_rate: 0.1
              max_depth: 8
              min_child_weight : 2
              gamma: 0.3
              scale_pos_weight: 5 # for imbalanced classes
              max_delta_step: 2 # stabilise rare classes
              reg_lambda: 2 # regulatisation
              n_estimators: 1000
#              early_stopping_rounds: 50
#              eval_metric: "mlogloss"
              colsample_bytree: 0.7
            reducer:
               name: "pca"
               params:
                  n_components: 750
            vectorizer:
              vectorizer_name: "bert"
              vectorizer_field: "Description"
              vectorizer_params:
                model_name: "sentence-transformers/all-mpnet-base-v2"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [8, 6]
                  cmap: "Blues"


        - run_name: "1l. XGBoost BERT stopword only - n_estimators 750"
          text_field: "Description"
          preprocessing:
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
          params:
            description: "XGBoost experiments with BERT vectorization technique on Roblox game descriptions."
            save_path: "output/xgboost_results"
            calculate_sample_weights: true
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:    # default XGBoost hyperparameters
              # device: 'cuda'
              learning_rate: 0.1
              max_depth: 8
              min_child_weight : 2
              gamma: 0.3
              scale_pos_weight: 5 # for imbalanced classes
              max_delta_step: 2 # stabilise rare classes
              reg_lambda: 2 # regulatisation
              n_estimators: 750
#              early_stopping_rounds: 50
#              eval_metric: "mlogloss"
              colsample_bytree: 0.7
            reducer:
               name: "pca"
               params:
                  n_components: 500
            vectorizer:
              vectorizer_name: "bert"
              vectorizer_field: "Description"
              vectorizer_params:
                model_name: "sentence-transformers/all-mpnet-base-v2"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [8, 6]
                  cmap: "Blues"


        - run_name: "1m. XGBoost BERT - n_estimators 750"
          text_field: "Description"
          preprocessing:
            - name: lowercase
            - name: remove_repeated_characters
              params:
                field: "Description"
                pattern: "(.)\\1{2,}"
            - name: remove_urls
              params:
                field: "Description"
                pattern: 'https?://\S+|www\.\S+'
            - name: remove_whitespace
              params:
                field: "Description"
                pattern: '\\s+'
            - name: remove_punctuation_noise
              params:
                field: "Description"
                pattern: '([!?.,])\\1+'
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
            - name: emoji_remover
              params:
                use_emoji_lib: true
          params:
            description: "XGBoost experiments with BERT vectorization technique on Roblox game descriptions."
            save_path: "output/xgboost_results"
            calculate_sample_weights: true
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:    # default XGBoost hyperparameters
              # device: 'cuda'
              learning_rate: 0.1
              max_depth: 8
              min_child_weight : 2
              gamma: 0.3
              scale_pos_weight: 5 # for imbalanced classes
              max_delta_step: 2 # stabilise rare classes
              reg_lambda: 2 # regulatisation
              n_estimators: 750
#              early_stopping_rounds: 50
#              eval_metric: "mlogloss"
              colsample_bytree: 0.7
            reducer:
               name: "pca"
               params:
                  n_components: 750
            vectorizer:
              vectorizer_name: "bert"
              vectorizer_field: "Description"
              vectorizer_params:
                model_name: "sentence-transformers/all-mpnet-base-v2"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [8, 6]
                  cmap: "Blues"
#        # ------------------------------------------------------------
#        # 1. XGBoost + TF-IDF
#        # ------------------------------------------------------------
#        - run_name: "1b. XGBoost TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "1b. XGBoost TF-IDF with data cleansing and smote on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:
##              objective: "multi:softprob"
##              eval_metric: "mlogloss"
##              seed: 42
##              n_jobs: -1
##              verbosity: 1
##              n_estimators: 500
##              learning_rate: 0.05
##              max_depth: 6
##              min_child_weight: 1
##              subsample: 0.8
##              colsample_bytree: 0.8
##              gamma: 0
##              reg_alpha: 0.0
##              reg_lambda: 1.0
##              tree_method: "hist"
##              early_stopping_rounds: 50
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 10000
#                ngram_range: [1, 2]
#                stop_words: "english"
#            sampler:
#              name: "composite"
#              params:
#                steps:
#                  - name: "smote"
#                    params:
#                      random_state: 42
#                      sampling_strategy: "auto"
#                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 2. XGBoost + Word2Vec
#        # ------------------------------------------------------------
#        - run_name: "1c. XGBoost Word2Vec"
#          params:
#            description: "XGBoost experiments with Word2Vec vectorization technique on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:    # defaults
##              objective: "multi:softprob"
##              eval_metric: "mlogloss"
##              seed: 42
##              n_jobs: -1
##              verbosity: 1
##              n_estimators: 500
##              learning_rate: 0.05
##              max_depth: 6
##              min_child_weight: 1
##              subsample: 0.8
##              colsample_bytree: 0.8
##              gamma: 0
##              reg_alpha: 0.0
##              reg_lambda: 1.0
##              tree_method: "hist"
##              early_stopping_rounds: 50
#            vectorizer:
#              vectorizer_name: "word2vec"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                vector_size: 300
#                window: 5
#                min_count: 2
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 2. XGBoost + Word2Vec
#        # ------------------------------------------------------------
#        - run_name: "1d. XGBoost Word2Vec"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "1d. XGBoost Word2Vec with data cleansing and smote on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params: {}   # defaults
##              objective: "multi:softprob"
##              eval_metric: "mlogloss"
##              seed: 42
##              n_jobs: -1
##              verbosity: 1
##              n_estimators: 500
##              learning_rate: 0.05
##              max_depth: 6
##              min_child_weight: 1
##              subsample: 0.8
##              colsample_bytree: 0.8
##              gamma: 0
##              reg_alpha: 0.0
##              reg_lambda: 1.0
##              tree_method: "hist"
##              early_stopping_rounds: 50
#            vectorizer:
#              vectorizer_name: "word2vec"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                vector_size: 300
#                window: 5
#                min_count: 2
#            sampler:
#              name: "composite"
#              params:
#                steps:
#                  - name: "smote"
#                    params:
#                      random_state: 42
#                      sampling_strategy: "auto"
#                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 3. XGBoost + BERT
#        # ------------------------------------------------------------
#
#        - run_name: "1e. XGBoost BERT"
#          text_field: "Description"
#          params:
#            description: "XGBoost experiments with BERT embeddings on Roblox game descriptions including data cleansing preprocessing and smote."
#            save_path: "output/xgboost_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params: {}
##              objective: "multi:softprob"
##              eval_metric: "mlogloss"
##              seed: 42
##              n_jobs: -1
##              verbosity: 1
##              n_estimators: 500
##              learning_rate: 0.05
##              max_depth: 6
##              min_child_weight: 1
##              subsample: 0.8
##              colsample_bytree: 0.8
##              gamma: 0
##              reg_alpha: 0.0
##              reg_lambda: 1.0
##              tree_method: "hist"
##              early_stopping_rounds: 50
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#
#        - run_name: "1f. XGBoost BERT"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "1f. XGBoost BERT with data cleansing and smote on Roblox game descriptions."
#            save_path: "output/xgboost_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5\
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params: {}
##              objective: "multi:softprob"
##              eval_metric: "mlogloss"
##              seed: 42
##              n_jobs: -1
##              verbosity: 1
##              n_estimators: 500
##              learning_rate: 0.05
##              max_depth: 6
##              min_child_weight: 1
##              subsample: 0.8
##              colsample_bytree: 0.8
##              gamma: 0
##              reg_alpha: 0.0
##              reg_lambda: 1.0
##              tree_method: "hist"
##              early_stopping_rounds: 50
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#              sampler:
#                name: "composite"
#                params:
#                  steps:
#                    - name: "smote"
#                      params:
#                        random_state: 42
#                        sampling_strategy: "auto"
#                        k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [8, 6]
#                  cmap: "Blues"
#
#
  - name: svm
    type: pipelines.experiment_pipeline.ExperimentPipeline
    params:
      experiment_type: "classification"
      model_name: "svm"
      evaluator_name: "classification"
      metrics: [ "accuracy", "f1_score", "precision", "recall" ]
      mlflow_experiment: "SVM Experiments"
      experiments:

        # ------------------------------------------------------------
        # 1. SVM + TF-IDF
        # ------------------------------------------------------------
        - run_name: "1a. SVM TF-IDF"
          params:
            description: "SVM experiments with TF-IDF vectorization on Roblox game descriptions."
            save_path: "output/svm_results"
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:
              kernel: "linear"
              C: 1.0
              class_weight: "balanced"  # handle class imbalance
              max_iter: 10000           # prevent convergence issues
            vectorizer:
              vectorizer_name: "tfidf"
              vectorizer_field: "Description"
              vectorizer_params:
                max_features: 5000
                ngram_range: [ 1, 2 ]
                stop_words: "english"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [ 8, 6 ]
                  cmap: "Blues"

        - run_name: "1b. SVM TF-IDF - max_features 10000"
          params:
            description: "SVM experiments with TF-IDF vectorization on Roblox game descriptions."
            save_path: "output/svm_results"
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:
              kernel: "linear"
              C: 1.0
              class_weight: "balanced"  # handle class imbalance
              max_iter: 10000           # prevent convergence issues
            vectorizer:
              vectorizer_name: "tfidf"
              vectorizer_field: "Description"
              vectorizer_params:
                max_features: 10000
                ngram_range: [ 1, 2 ]
                stop_words: "english"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [ 8, 6 ]
                  cmap: "Blues"

        - run_name: "1c. SVM TF-IDF"
          text_field: "Description"
          preprocessing:
            - name: lowercase
            - name: remove_repeated_characters
              params:
                field: "Description"
                pattern: "(.)\\1{2,}"
            - name: remove_urls
              params:
                field: "Description"
                pattern: 'https?://\S+|www\.\S+'
            - name: remove_whitespace
              params:
                field: "Description"
                pattern: '\\s+'
            - name: remove_punctuation_noise
              params:
                field: "Description"
                pattern: '([!?.,])\\1+'
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
            - name: emoji_remover
              params:
                use_emoji_lib: true
          params:
            description: "SVM experiments with TF-IDF vectorization on Roblox game descriptions."
            save_path: "output/svm_results"
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:
              kernel: "linear"
              C: 1.0
              class_weight: "balanced"  # handle class imbalance
              max_iter: 10000           # prevent convergence issues
            vectorizer:
              vectorizer_name: "tfidf"
              vectorizer_field: "Description"
              vectorizer_params:
                max_features: 10000
                ngram_range: [ 1, 2 ]
                stop_words: "english"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [ 8, 6 ]
                  cmap: "Blues"

        - run_name: "1d. SVM TF-IDF - stopword"
          text_field: "Description"
          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
          params:
            description: "SVM experiments with TF-IDF vectorization on Roblox game descriptions."
            save_path: "output/svm_results"
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:
              kernel: "linear"
              C: 1.0
              class_weight: "balanced"  # handle class imbalance
              max_iter: 10000           # prevent convergence issues
            vectorizer:
              vectorizer_name: "tfidf"
              vectorizer_field: "Description"
              vectorizer_params:
                max_features: 10000
                ngram_range: [ 1, 2 ]
                stop_words: "english"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [ 8, 6 ]
                  cmap: "Blues"

        - run_name: "1e. SVM word2vec"
          text_field: "Description"
          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
#            - name: emoji_remover
#              params:
#                use_emoji_lib: true
          params:
            description: "SVM experiments with TF-IDF vectorization on Roblox game descriptions."
            save_path: "output/svm_results"
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:
              kernel: "linear"
              C: 1.0
              class_weight: "balanced"  # handle class imbalance
              max_iter: 10000           # prevent convergence issues
            vectorizer:
              vectorizer_name: "word2vec"
              vectorizer_field: "Description"
              vectorizer_params:
                vector_size: 500
                window: 5
                min_count: 2
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [ 8, 6 ]
                  cmap: "Blues"


        - run_name: "1f. SVM word2vec"
          text_field: "Description"
          preprocessing:
            - name: lowercase
            - name: remove_repeated_characters
              params:
                field: "Description"
                pattern: "(.)\\1{2,}"
            - name: remove_urls
              params:
                field: "Description"
                pattern: 'https?://\S+|www\.\S+'
            - name: remove_whitespace
              params:
                field: "Description"
                pattern: '\\s+'
            - name: remove_punctuation_noise
              params:
                field: "Description"
                pattern: '([!?.,])\\1+'
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
            - name: emoji_remover
              params:
                use_emoji_lib: true
          params:
            description: "SVM experiments with TF-IDF vectorization on Roblox game descriptions."
            save_path: "output/svm_results"
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:
              kernel: "linear"
              C: 1.0
              class_weight: "balanced"  # handle class imbalance
              max_iter: 10000           # prevent convergence issues
            vectorizer:
              vectorizer_name: "word2vec"
              vectorizer_field: "Description"
              vectorizer_params:
                vector_size: 500
                window: 5
                min_count: 2
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [ 8, 6 ]
                  cmap: "Blues"


        - run_name: "1g. SVM BERT"
          text_field: "Description"
          preprocessing:
            - name: lowercase
            - name: remove_repeated_characters
              params:
                field: "Description"
                pattern: "(.)\\1{2,}"
            - name: remove_urls
              params:
                field: "Description"
                pattern: 'https?://\S+|www\.\S+'
            - name: remove_whitespace
              params:
                field: "Description"
                pattern: '\\s+'
            - name: remove_punctuation_noise
              params:
                field: "Description"
                pattern: '([!?.,])\\1+'
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
            - name: emoji_remover
              params:
                use_emoji_lib: true
          params:
            description: "SVM experiments with TF-IDF vectorization on Roblox game descriptions."
            save_path: "output/svm_results"
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:
              kernel: "linear"
              C: 1.0
              class_weight: "balanced"  # handle class imbalance
              max_iter: 10000           # prevent convergence issues
#            reducer:
#              name: "pca"
#              params:
#                n_components: 750
            vectorizer:
              vectorizer_name: "bert"
              vectorizer_field: "Description"
              vectorizer_params:
                model_name: "sentence-transformers/all-mpnet-base-v2"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [ 8, 6 ]
                  cmap: "Blues"

        - run_name: "1h. SVM BERT"
          text_field: "Description"
          preprocessing:
            - name: lowercase
            - name: remove_repeated_characters
              params:
                field: "Description"
                pattern: "(.)\\1{2,}"
            - name: remove_urls
              params:
                field: "Description"
                pattern: 'https?://\S+|www\.\S+'
            - name: remove_whitespace
              params:
                field: "Description"
                pattern: '\\s+'
            - name: remove_punctuation_noise
              params:
                field: "Description"
                pattern: '([!?.,])\\1+'
            - name: stopword_remover
              params:
                language: "english"
                lower: true
                field: "Description"
            - name: emoji_remover
              params:
                use_emoji_lib: true
          params:
            description: "SVM experiments with TF-IDF vectorization on Roblox game descriptions."
            save_path: "output/svm_results"
            cv_enabled: true
            cv_stratified: true
            cv_folds: 5
            cv_shuffle: true
            cv_random_state: 42
            model_params:
              kernel: "linear"
              C: 1.0
              class_weight: "balanced"  # handle class imbalance
              max_iter: 10000           # prevent convergence issues
            reducer:
              name: "pca"
              params:
                n_components: 750
            vectorizer:
              vectorizer_name: "bert"
              vectorizer_field: "Description"
              vectorizer_params:
                model_name: "sentence-transformers/all-mpnet-base-v2"
            visualisations:
              - name: confusion_matrix
                kwargs:
                  figsize: [ 8, 6 ]
                  cmap: "Blues"
#
#        - run_name: "1b. SVM TF-IDF"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "1b. SVM TF-IDF with preprocessing and SMOTE on Roblox game descriptions."
#            save_path: "output/svm_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:
#              kernel: "linear"
#              C: 1.0
#              class_weight: "balanced"
#              max_iter: 10000
#            vectorizer:
#              vectorizer_name: "tfidf"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                max_features: 5000
#                ngram_range: [ 1, 2 ]
#                stop_words: "english"
#            sampler:
#              name: "composite"
#              params:
#                steps:
#                  - name: "smote"
#                    params:
#                      random_state: 42
#                      sampling_strategy: "auto"
#                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 2. SVM + Word2Vec
#        # ------------------------------------------------------------
#        - run_name: "1c. SVM Word2Vec"
#          params:
#            description: "SVM experiments with Word2Vec embeddings on Roblox game descriptions."
#            save_path: "output/svm_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:
#              kernel: "rbf"            # RBF works better for dense embeddings
#              C: 1.0
#              gamma: "scale"
#              class_weight: "balanced"
#              max_iter: 10000
##              scale_features: true      # flag to scale dense embeddings
#            vectorizer:
#              vectorizer_name: "word2vec"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                vector_size: 300
#                window: 5
#                min_count: 2
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        - run_name: "1d. SVM Word2Vec"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "1d. SVM Word2Vec with preprocessing and SMOTE on Roblox game descriptions."
#            save_path: "output/svm_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:
#              kernel: "rbf"
#              C: 1.0
#              gamma: "scale"
#              class_weight: "balanced"
#              max_iter: 10000
##              scale_features: true
#            vectorizer:
#              vectorizer_name: "word2vec"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                vector_size: 300
#                window: 5
#                min_count: 2
#            sampler:
#              name: "composite"
#              params:
#                steps:
#                  - name: "smote"
#                    params:
#                      random_state: 42
#                      sampling_strategy: "auto"
#                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
#
#        # ------------------------------------------------------------
#        # 3. SVM + BERT
#        # ------------------------------------------------------------
#        - run_name: "1e. SVM BERT"
#          text_field: "Description"
#          preprocessing:
#            - name: lowercase
#            - name: remove_repeated_characters
#              params:
#                field: "Description"
#                pattern: "(.)\\1{2,}"
#            - name: remove_urls
#              params:
#                field: "Description"
#                pattern: 'https?://\S+|www\.\S+'
#            - name: remove_whitespace
#              params:
#                field: "Description"
#                pattern: '\\s+'
#            - name: remove_punctuation_noise
#              params:
#                field: "Description"
#                pattern: '([!?.,])\\1+'
#            - name: stopword_remover
#              params:
#                language: "english"
#                lower: true
#                field: "Description"
#          params:
#            description: "1e. SVM BERT with preprocessing and SMOTE on Roblox game descriptions."
#            save_path: "output/svm_results"
#            cv_enabled: true
#            cv_stratified: true
#            cv_folds: 5
#            cv_shuffle: true
#            cv_random_state: 42
#            model_params:
#              kernel: "rbf"
#              C: 1.0
#              gamma: "scale"
#              class_weight: "balanced"
#              max_iter: 10000
##              scale_features: true
#            vectorizer:
#              vectorizer_name: "bert"
#              vectorizer_field: "Description"
#              vectorizer_params:
#                model_name: "sentence-transformers/all-mpnet-base-v2"
#            sampler:
#              name: "composite"
#              params:
#                steps:
#                  - name: "smote"
#                    params:
#                      random_state: 42
#                      sampling_strategy: "auto"
#                      k_neighbors: 5
#            visualisations:
#              - name: confusion_matrix
#                kwargs:
#                  figsize: [ 8, 6 ]
#                  cmap: "Blues"
